
<!DOCTYPE html>
<html>
<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href='http://fonts.googleapis.com/css?family=PT+Sans:400,700' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Alegreya+Sans:900|Orbitron:500' rel='stylesheet' type='text/css'>
    <link rel="icon" type="image/x-icon" href="http://conf.cust.cc/pic/favicon2.ico" />

    <title>Cust Configurateur</title>
    <meta charset="utf-8">
    <script type="text/javascript" src="./js/jquery-1.11.3.min.js"></script>
    <script src="./js/three.min.js"></script>
    <script src="./js/Detector.js"></script>
    <script src="./js/CanvasRenderer.js"></script>
    <script src="./js/Projector.js"></script>
    <script src="./js/TrackballControls.js"></script>
    <script src="./js/conf_init.js"></script>
    <script src="./js/conf_utils.js"></script>

    <link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
    <link rel="stylesheet" href="css/reset.css"> <!-- CSS reset -->
    <link rel="stylesheet" href="css/style.css"> <!-- Resource style -->
    <link rel="stylesheet" href="css/control_bar.css"> <!-- Resource style -->
    <link rel="stylesheet" href="css/slider.css"> <!-- Resource style -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

    <script src="js/modernizr.js"></script> <!-- Modernizr -->

    <script src="js/jquery-2.1.1.js"></script>
    <script src="js/main.js"></script> <!-- Resource jQuery -->

    <script src="./js/jquery.popupoverlay.js"></script>

    <!--Google Analytics-->
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-64954572-1', 'auto');
        ga('send', 'pageview');

    </script>

</head>
<body>

<div style="display: inline-block;"><
    <!--popup to manage aweber forms-->

    <div id="my_popup" class="overlay" >

    </div>

    <div id="my_popup_thanks" class="overlay">
        <div class="my_popup_thanks_close">
            <h1 style="margin-top: 50%">Merci de votre participation!</h1>
            <p>Cliquez n'importe où pour continuer...</p>
        </div>
    </div>

    <div id="my_popup_already" class="overlay">
        <div class="my_popup_already_close">
            <h1 style="margin-top: 50%">Vous êtes déjà enregistré!</h1>
            <p>Cliquez n'importe où pour continuer...</p>
        </div>
    </div>

    <!--script to enable/disable popup depending on URL keywords-->
    <script>
        $(document).ready(function() {
            // Initialize the plugin
            if (window.location.href.indexOf("already") != -1 ) {
                $('#my_popup').popup({
                    autoopen: false
                });
                $('#my_popup_thanks').popup({
                    autoopen: false
                });
                $('#my_popup_already').popup({
                    autoopen: false,
                    vertical: 'top',
                    opacity: 0.85
                });
            }
            else if (window.location.href.indexOf("registered") != -1 ) {
                $('#my_popup').popup({
                    autoopen: false
                });
                $('#my_popup_thanks').popup({
                    autoopen: false,
                    vertical: 'top',
                    opacity: 0.85
                });
                $('#my_popup_already').popup({
                    autoopen: false
                });
            }
            else {
                $('#my_popup').popup({
                    autoopen: false,
                    blur: false,
                    vertical: 'top',
                    opacity: 0.85
                });
                $('#my_popup_thanks').popup({
                    autoopen: false
                });
                $('#my_popup_already').popup({
                    autoopen: false
                });
            }
        });
    </script>

    <div class="box-demo">
        <a href="//cust.cc" target="_blank" style="text-decoration: none;color:#FF9A18; font-size:26px; font-family: 'Orbitron', sans-serif; float:left; margin-left:15px; line-height: 34px;">cust</a>
        <div style="line-height: 38px; float: left; position:absolute; left:50%; margin-left:-100px">Version de démonstration </div>
        <a href="https://www.facebook.com/cust.cc" style="text-decoration: none; float:right; margin-right: 15px; line-height: 38px; color:white;" target="_blank"><div class="fa fa-facebook-square" ></div></a>

    </div>

    <!--<div class="box-mail">-->
        <!--<br>-->
        <!--<form method="post" class="af-form-wrapper" accept-charset="UTF-8" action="https://www.aweber.com/scripts/addlead.pl"  >-->
            <!--<div style="display: none;">-->
                <!--<input type="hidden" name="meta_web_form_id" value="1693243254" />-->
                <!--<input type="hidden" name="meta_split_id" value="" />-->
                <!--<input type="hidden" name="listname" value="awlist3946672" />-->
                <!--<input type="hidden" name="redirect" value="http://conf.cust.cc/conf.html?registered" id="redirect_9fc128a06f139f93ac5de12c7fc87840" />-->
                <!--<input type="hidden" name="meta_redirect_onlist" value="http://conf.cust.cc/conf.html?already" />-->
                <!--<input type="hidden" name="meta_adtracking" value="Mail_form_Configurateur" />-->
                <!--<input type="hidden" name="meta_message" value="1001" />-->
                <!--<input type="hidden" name="meta_required" value="email" />-->

                <!--<input type="hidden" name="meta_tooltip" value="" />-->
            <!--</div>-->
            <!--<div id="af-form-1693243254" class="af-form-body">-->
                <!--<label for="awf_field-75064251"> </label>-->
                <!--<input id="awf_field-75064251" type="text" name="email" value="Entrez votre adresse email..." tabindex="500" onfocus=" if (this.value == 'Entrez votre adresse email...') { this.value = ''; }" onblur="if (this.value == '') { this.value='Entrez votre adresse email...';} " />-->
                <!--<input name="submit" class="submit button" type="submit" value="Tenez-moi informé" tabindex="501" />-->
                <!--<label style="margin-left: 15px; margin-right: 12px;"><b style="font-weight: bold">Aucun spam.</b> Nous vous enverrons un email uniquement pour vous informer des avancées et du lancement de Cust.</label>-->
            <!--</div>-->
        <!--</form>-->
    <!--</div>-->

    <div class="cd-tabs left" style="margin-top: 120px;">
        <nav>
            <ul class="cd-tabs-navigation">
                <li><a data-content="cust" class="selected" href="#0">Cust</a></li>
                <li><a data-content="design" href="#0">Design</a></li>
                <li><a data-content="dim" href="#0">Dimensions</a></li>
                <li><a data-content="mat" href="#0">Matériaux</a></li>
                <li><a data-content="finitions" href="#0">Finitions</a></li>
            </ul>
        </nav>


        <ul class="cd-tabs-content">

            <li data-content="cust" class="selected">
                <header><h1>Comment ça marche ?</h1></header>
                <p style="font-weight: 100">1 - Je choisis mon design</p>
                <p style="font-weight: 100">2 - Je redimensionne mon meuble en fonction de mon espace</p>
                <p style="font-weight: 100">3 - Je sélectionne mon matériau de fabrication : bois massif, bois multiplis etc.</p>
                <p style="font-weight: 100">4 - Je choisis les finitions ou décide de les faire moi-même</p>
                <p style="margin-top: 10px; text-align: justify">En fonction des dimensions, matériaux et finitions choisis, le prix évolue (bientôt disponible).</p>
                <p style="margin-top: 10px; text-align: justify">Le configurateur vous permet de visualiser votre meuble sous tous les angles.</p>

            </li>

            <li data-content="design">
                <header><h1>Choisissez un design</h1></header>
                <p>Banc</p>
                <div class="thumbnail-design">
                    <img src="./img/banc.jpg" alt=Image" onclick="design=2">
                </div>
                <p>Tabouret</p>
                <div class="thumbnail-design">
                    <img src="./img/stool.jpg" alt=Image" onclick="design=0">
                </div>
                <p>Table</p>
                <div class="thumbnail-design">
                    <img src="./img/table.jpg" alt=Image" onclick="design=1">
                </div>

            </li>

            <li data-content="dim">

                <div id="dim_banc">
                    <header><h1>Adaptez les dimensions</h1></header>
                    <p style="float: left">Hauteur <p style="float: right"><output id="Height_banc">300</output> mm</p></p>
                    <input type="range" min="300" max="1000" value="300" step="100" oninput="outputUpdate(value,Height_banc)">

                    <p style="float: left">Longueur <p style="float: right"><output id="Length_banc">1500</output> mm</p></p>
                    <input type="range" min="400" max="3500" value="1500" step="100" oninput="outputUpdate(value,Length_banc)">

                    <p style="float: left">Largeur  <p style="float: right"><output id="Width_banc">300</output> mm</p></p>
                    <input type="range" min="300" max="400" value="100" step="100" oninput="outputUpdate(value,Width_banc)">
                </div>

                <div id="dim_stool">
                    <header><h1>Adaptez les dimensions</h1></header>
                    <p style="float: left">Hauteur <p style="float: right"><output id="H">450</output> mm</p></p>
                    <input type="range" min="350" max="550" value="450" step="50" oninput="outputUpdate(value,H)">

                    <p style="float: left">Longueur <p style="float: right"><output id="Len">350</output> mm</p></p>
                    <input type="range" min="250" max="450" value="350" step="50" oninput="outputUpdate(value,Len)">

                    <p style="float: left">Largeur  <p style="float: right"><output id="l">200</output> mm</p></p>
                    <input type="range" min="140" max="260" value="200" step="20" oninput="outputUpdate(value,l)">
                </div>

                <div id="dim_table">
                    <header><h1>Adaptez les dimensions</h1></header>
                    <p style="float: left">Hauteur <p style="float: right"><output id="Height_table">350</output> mm</p></p>
                    <input type="range" min="150" max="750" value="350" step="100" oninput="outputUpdate(value,Height_table)">

                    <p style="float: left">Longueur <p style="float: right"><output id="Length_table">350</output> mm</p></p>
                    <input type="range" min="150" max="950" value="350" step="100" oninput="outputUpdate(value,Length_table)">

                    <p style="float: left">Largeur  <p style="float: right"><output id="Width_table">350</output> mm</p></p>
                    <input type="range" min="150" max="950" value="350" step="100" oninput="outputUpdate(value,Width_table)">
                </div>

            </li>

            <li data-content="mat">
                <header><h1>Choisissez votre matériau</h1></header>
                <p>Vue modèle</p>
                <div class="flex-content">
                    <div class="thumbnail">
                        <img id="none" src="./textures/none.jpg" alt="Image" onclick="selectedMaterial=this.id" />
                        <div class="thumbnail-text">Aucun</div>
                    </div>
                    <div class="thumbnail">
                        <img id="none" src="./textures/wireframe.jpg" alt="Image" onclick="tmp_wireframe = !tmp_wireframe" />
                        <div class="thumbnail-text">Wireframe</div>
                    </div>
                </div>
                <p>Bois massif</p>
                <div class="flex-content">
                    <div class="thumbnail">
                        <img id="bois1" src="./textures/bois1.jpg" alt="Image" onclick="selectedMaterial=this.id" />
                        <div class="thumbnail-text">Bois1</div>
                    </div>
                    <div class="thumbnail">
                        <img id="bois2" src="./textures/bois2.jpg" class="portrait" alt="Image" onClick="selectedMaterial=this.id" />
                        <div class="thumbnail-text">Bois2</div>
                    </div>
                    <div class="thumbnail">
                        <img id="bois3" src="./textures/bois3.jpg" alt="Image" onclick="selectedMaterial=this.id" />
                        <div class="thumbnail-text">Bois3</div>
                    </div>
                </div>
            </li>

            <li data-content="finitions">
                <header><h1>Finitions : vous aurez ici la possibilité de choisir vos niveaux finitions : ponçage, congés sur arête, vernissage, etc.
                </h1></header>
                <p>Non disponible dans la version de démonstration</p>
            </li>


        </ul> <!-- cd-tabs-content -->
    </div> <!-- cd-tabs -->

    <div id="WebGLCanvas" style="margin-left: 365px;">
        <div class="box-control">
            <span class="fa fa-play-circle-o" style="border-bottom-left-radius: 5px; border-top-left-radius: 5px" onclick="boolRotation = true"></span>
            <span class="fa fa-pause" onclick="boolRotation = false"></span>
            <span class="fa fa-undo" style="border-bottom-right-radius: 5px; border-top-right-radius: 5px" onclick="resetView()"></span>
        </div>
    </div>

</div>



<script>
    var scene, camera;

    initializeScene();

    var H = document.querySelector('#H').value;
    var L = 450;
    var l1 = document.querySelector('#l').value;
    var Ht = document.querySelector('#Height_table').value;
    var Lt = 450;
    var Wt = document.querySelector('#Width_table').value;
    var Hb = document.querySelector('#Height_table').value;
    var Lb = 1500;
    var Wb = document.querySelector('#Width_table').value;
    var MAT = 'none';
    var selectedMaterial = 'none';
    var canvasWidth = window.innerWidth -365;
    var wireframe = true;
    var tmp_wireframe = wireframe;
    var boolRotation = false;
    var debug = 0;
    var design= 2; //0: stool 1: table 2:banc
    var tmp_design= design;
    var tmpModname = 'Banc';
    var tmp_rotation = 1.15;

    var basematerial = new THREE.MeshBasicMaterial( { color: 0x888888 } );
    texture_bois1 = THREE.ImageUtils.loadTexture('./textures/bois1.jpg');
    texture_bois1.wrapS = THREE.RepeatWrapping;
    texture_bois1.wrapT = THREE.RepeatWrapping;
    texture_bois1.magFilter = THREE.LinearFilter;
    var texture1 = new THREE.MeshLambertMaterial( { map: texture_bois1 });

//    texture1.repeat.set( 4, 4 );
    texture1.magFilter = THREE.LinearFilter;
    var texture2 = new THREE.MeshLambertMaterial( { map: THREE.ImageUtils.loadTexture('./textures/bois2.jpg')});
    texture2.magFilter = THREE.LinearFilter;
    var texture3 = new THREE.MeshLambertMaterial( { map: THREE.ImageUtils.loadTexture('./textures/bois3.jpg')});
    texture2.magFilter = THREE.LinearFilter;

    toggleDiv(design);

    animateScene();


</script>

</body>
</html>